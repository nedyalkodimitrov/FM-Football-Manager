{% extends 'coaches/base.html.twig' %}
{% block nav %}
    <a class="nav-item nav-link  ml-2" href="{{ path('coacheViewAction') }}">Начална страница</a>
    <a class="nav-item nav-link current-item ml-2" href="{{ path("trainingView") }}">Тренировки</a>
{% endblock %}
{% block body %}
    <div id="container ">
        <div class="row mt-5  justify-content-center">
            {% if player.image == null or player.image == ''  %}
                <div class="col-12 justify-content-center text-center row">
                    <div class="col-lg-3 col-md-5 col-sm-6 justify-content-center text-center row">
                        <img src="{{asset('images/user1.png' )}}" alt="" class="player_profile_car_img mx-0">
                    </div>
                </div><br>
                {% else %}
                   <div class="col-12 justify-content-center text-center row">
                       <div class="col-lg-3 col-md-5 col-sm-6 justify-content-center text-center row">
                           <img src="{{asset('images/'~ player.Image )}}" alt="" class="player_profile_car_img mx-0">
                       </div>
                   </div><br>
            {% endif %}
            <div class="mt-3">
                <p class="player_card-p">{{ player.UserId.Name }} {{ player.UserId.FName }}</p>
            </div>

            <h1 class="col-12 justify-content-center text-center "> Статистика</h1>
            <div class="col-12 justify-content-center text-center row">
                <div class="col-lg-3 col-sm-4 col-md-3 mr-lg-4 mr-md-4 mr-sm-0 mt-4   myBorderPlayerStat-left  text-center">
                    {% if player.Weight == null%}
                        <h2>Килограми: 0кг</h2>
                    {% else %}
                        <h2>Килограми: {{ player.Weight }}кг</h2>
                    {% endif %}
                </div>
                <div class="col-lg-3 col-sm-4 col-md-3  ml-lg-4 ml-md-4 ml-sm-0 mt-4   myBorderPlayerStat-left  text-center">
                    {% if player.Height == null%}
                        <h2>Височина: 0см</h2>
                    {% else %}
                        <h2>Височина: {{ player.Height }}см</h2>
                    {% endif %}

                </div>
            </div>
            <div class="col-12 justify-content-center text-center row">
                <div class="col-lg-3 col-sm-4 col-md-3 mr-lg-4 mr-md-4 mr-sm-0  mt-4  myBorderPlayerStat-left text-center">
                    {% if player.Pace == null%}
                        <h2>Скорост: 0 km/h</h2>
                    {% else %}
                        <h2>Скорост: {{ player.Pace }} km/h</h2>
                    {% endif %}
                </div>
                <div class="col-lg-3 col-sm-4 col-md-3 ml-lg-4 ml-md-4 ml-sm-0 mt-4  myBorderPlayerStat-left  text-center">
                    {% if player.LongPass == null%}
                        <h2>Дълъг пас: 0</h2>
                    {% else %}
                        <h2>Дълъг пас: {{ player.LongPass}}</h2>
                    {% endif %}
                </div>

            </div>
            <div class="col-12 justify-content-center text-center row">
                <div class="col-lg-3 col-sm-4 col-md-3 mr-lg-4 mr-md-4 mr-sm-0 mt-4  myBorderPlayerStat-left  text-center">
                    {% if player.Relax == null%}
                        <h2>Спокойствие на терена: 0</h2>
                    {% else %}
                        <h2>Спокойствие на терена: {{ player.Relax}}</h2>
                    {% endif %}
                </div>
                <div class="col-lg-3 col-sm-4 col-md-3 ml-lg-4 ml-md-4 ml-sm-0 mt-4    myBorderPlayerStat-left text-center">
                    {% if player.Fat == null%}
                        <h2>Подкожни мазнини: 0%</h2>
                    {% else %}
                        <h2>Подкожни мазнини: {{ player.Fat }}%</h2>
                    {% endif %}
                </div>
            </div>
            <div class="col-12 justify-content-center text-center row">
                <div class="col-lg-3 col-sm-4 col-md-4 mr-lg-4 mr-md-4 mr-sm-0 mt-4 myBorderPlayerStat-left  text-center">
                    {% if player.Work == null%}
                        <h2>Усърдна работа: 0</h2>
                    {% else %}
                        <h2>Усърдна работа: {{ player.Work}}</h2>
                    {% endif %}
                </div>
                <div class="col-lg-3 col-sm-4 col-md-4 ml-lg-4 ml-md-4 ml-sm-0 mt-4 myBorderPlayerStat-left  text-center">
                    {% if player.Tacticks == null%}
                    <h2>Тактика: 0</h2>
                    {% else %}
                    <h2>Тактика: {{ player.Tacticks}}</h2>
                    {% endif %}
                </div>
                </div>
            <div class="col-12 justify-content-center text-center row">
                <div class="col-lg-3 col-sm-4 col-md-4 mr-lg-4 mr-md-4 mr-sm-0 mt-4 myBorderPlayerStat-left  text-center">
                    {% if player.WillPower == null%}
                        <h2>Воля: 0</h2>
                    {% else %}
                        <h2>Воля:{{ player.WillPower}}</h2>
                    {% endif %}
                </div>

                <div class="col-lg-3 col-sm-4 col-md-4 ml-lg-4 ml-md-4 ml-sm-0 mt-4 myBorderPlayerStat-left  text-center">
                    {% if player.Dribble == null%}
                        <h2>Дрибъл: 0</h2>
                        {% else %}
                        <h2>Дрибъл:{{ player.Dribble }}</h2>
                    {% endif %}
                </div>
            </div>
            <div class="col-12 justify-content-center text-center row">
                <div class="col-lg-3 col-sm-4 col-md-4 mr-lg-4 mr-md-4 mr-sm-0 mt-4 myBorderPlayerStat-left  text-center">
                    {% if player.Shot == null%}
                        <h2>Удар: 0</h2>
                    {% else %}
                        <h2>Удар:{{ player.Shot }}</h2>
                    {% endif %}
                </div>
                <div class="col-lg-3 col-sm-4 col-md-4 ml-lg-4 ml-md-4 ml-sm-0 mt-4 myBorderPlayerStat-left  text-center">
                    {% if player.Technique == null%}
                        <h2>Техника: 0</h2>
                        {% else %}
                        <h2>Техника:{{ player.Technique }}</h2>
                    {% endif %}
                </div>
            </div>

            <div class="col-12 justify-content-center text-center row">
                <div class="col-lg-3 col-sm-4 col-md-4 mr-lg-4 mr-md-4 mr-sm-0 mt-4 myBorderPlayerStat-left  text-center">
                    {% if player.Pass == null%}
                        <h2>Пас: 0</h2>
                    {% else %}
                        <h2>Пас: {{ player.Pass }}</h2>
                    {% endif %}
                </div>
                <div class="col-lg-3 col-sm-4 col-md-4 ml-lg-4 ml-md-4 ml-sm-0 mt-4 myBorderPlayerStat-left  text-center">
                    {% if player.Perspective == null%}
                    <h2>Перспектива: 0</h2>
                    {% else %}
                        <h2>Перспектива:{{ player.Perspective}}</h2>
                    {% endif %}
                </div>

            </div>
        </div>
    </div>

    <div id="container col-12 ">
        <div class="row   justify-content-center mt-5 ">
            <h1 class="col-12 mt-5 text-center">Въвеждане на статистики</h1>


            <div class="col-lg-3 col-sm-4 col-md-3 mt-5  text-center">
                <h2 class="d-inline-block col-7">Килогами: </h2>
                <div class="input-group mb-3 player-stats-div col-lg-4 ml-0 col-sm-6 d-inline-block">
                    <input class="effect-2 bg-white  player-stats-input" type="number" min="0" max="120" value="{{ player.weight }}" id="weight"  >
                    <span class="focus-border"></span>
                </div>
                <h2>кг</h2>

            </div>
            <div class="col-lg-3 col-sm-4 col-md-3 mt-5  text-center">
                <h2 class="d-inline-block col-7">Височина: </h2>
                <div class="input-group mb-3 player-stats-div col-lg-4 ml-0 col-sm-6 d-inline-block">
                    <input class="effect-2 bg-white  player-stats-input" type="number" min="0" max="220" value="{{ player.height }}" id="height"  >
                    <span class="focus-border"></span>
                </div>
                <h2>см</h2>

            </div>
        </div>
    </div>
    <div id="container col-12 ">
        <div class="row   justify-content-center ">
            <div class="col-lg-3 col-sm-4 col-md-3 mt-5  text-center">
                <h2 class="d-inline-block col-7">Скорост: </h2>
                <div class="input-group player-stats-div mb-3 col-lg-4 ml-0 col-sm-6 col-md-6 d-inline-block">
                    <input class="effect-2 bg-white  player-stats-input" type="number" min="0" max="47" value="{{ player.Pace }}" id="pace"  >
                    <span class="focus-border"></span>
                </div>
                <h2>km/h</h2>
            </div>
            <div class="col-lg-3 col-sm-4 col-md-3 mt-5  text-center">
                <h2 class="d-inline-block col-7">Подкожни мазнини: </h2>
                <div class="input-group mb-3 player-stats-div col-lg-4 ml-0 col-sm-6 d-inline-block">
                    <input class="effect-2 bg-white  player-stats-input" type="number" min="0" max="40" value="{{ player.Fat }}" id="fat"  >
                    <span class="focus-border"></span>
                </div>
                <h2>%</h2>

            </div>
        </div>
    </div>
    <div id="container col-12 ">
        <div class="row   justify-content-center  ">
            <div class="col-lg-3 col-sm-4 col-md-3 mt-5 text-center">
                <h2 class="d-inline-block">Дълъг пас: <span id="stat-1"></span> </h2>
                <div class="slidecontainer ">
                  <input type="range" min="0" max="10" value="{{ player.longPass }}" class="slider" id="myRange-1">
                </div>
            </div>
            <div class="col-lg-3 col-sm-4 col-md-3 mt-5 text-center">
                <h2 class="d-inline-block">Спокойствие на терена <span id="stat-2"></span> </h2>
                <div class="slidecontainer ">
                  <input type="range" min="0" max="10" value="{{ player.Relax }}" class="slider" id="myRange-2">
                </div>
            </div>
        </div>
    </div>
        <div id="container col-12">
            <div class="row   justify-content-center">
                <div class="col-lg-3 col-sm-4 col-md-3 mt-5  text-center">
                    <h2 class="d-inline-block">Усърдна работа: <span id="stat-3"></span> </h2>
                    <div class="slidecontainer ">
                      <input type="range" min="0" max="10" value="{{ player.Work }}" class="slider" id="myRange-3">
                    </div>
                </div>
                <div class="col-lg-3 col-sm-4 col-md-3 mt-5 text-center">
                    <h2 class="d-inline-block">Тактика: <span id="stat-4"></span> </h2>
                    <div class="slidecontainer ">
                      <input type="range" min="0" max="10" value="{{ player.Tacticks }}" class="slider" id="myRange-4">
                    </div>
                </div>
            </div>
        </div>
        <div id="container col-12">
            <div class="row  justify-content-center">
                <div class="col-lg-3 col-sm-4 col-md-3 mt-5 text-center">
                    <h2 class="d-inline-block">Воля: <span id="stat-5"></span> </h2>
                    <div class="slidecontainer ">
                      <input type="range" min="0" max="10" value="{{ player.willPower }}" class="slider" id="myRange-5">
                    </div>
                </div>

                <div class="col-lg-3 col-sm-4 col-md-3 mt-5 text-center">
                    <h2 class="d-inline-block">Дрибъл: <span id="stat-6"></span> </h2>
                    <div class="slidecontainer ">
                        <input type="range" min="0" max="10" value="{{ player.dribble }}" class="slider" id="myRange-6">
                    </div>
                </div>

            </div>
        </div>
    <div id="container col-12">
            <div class="row   justify-content-center">
                <div class="col-lg-3 col-sm-4 col-md-3 mt-5 text-center">
                    <h2 class="d-inline-block">Удар: <span id="stat-7"></span> </h2>
                    <div class="slidecontainer ">
                      <input type="range" min="0" max="10" value="{{ player.shot }}" class="slider" id="myRange-7">
                    </div>
                </div>
                <div class="col-lg-3 col-sm-4 col-md-3 mt-5 text-center">
                    <h2 class="d-inline-block">Техника: <span id="stat-8"></span> </h2>
                    <div class="slidecontainer ">
                      <input type="range" min="0" max="10" value="{{ player.Technique }}" class="slider" id="myRange-8">
                    </div>
                </div>
            </div>
        </div>
        <div id="container col-12">
            <div class="row   justify-content-center">
                    <div class="col-lg-3 col-sm-4 col-md-3 mt-5 text-center">
                        <h2 class="d-inline-block">Перспектива: <span id="stat-9"></span> </h2>
                        <div class="slidecontainer ">
                          <input type="range" min="0" max="10" value="{{ player.perspective }}" class="slider" id="myRange-9">
                        </div>
                    </div>
                    <div class="col-lg-3 col-sm-4 col-md-3 mt-5 text-center">
                        <h2 class="d-inline-block">Пас: <span id="stat-10"></span> </h2>
                        <div class="slidecontainer ">
                      <input type="range" min="0" max="10" value="{{ player.pass }}" class="slider" id="myRange-10">
                    </div>
                </div>
            </div>

    <div class="col-12 mt-5 text-center justify-content-center row">
        <button class="btn btn-green col-2"><i class="fas fa-check"></i></button>
    </div>

    <script>
        var slider = document.getElementById("myRange-1");
        var output = document.getElementById("stat-1");
        var slider2 = document.getElementById("myRange-2");
        var output2 = document.getElementById("stat-2");
        var slider3 = document.getElementById("myRange-3");
        var output3 = document.getElementById("stat-3");
        var slider4 = document.getElementById("myRange-4");
        var output4 = document.getElementById("stat-4");
        var slider5 = document.getElementById("myRange-5");
        var output5 = document.getElementById("stat-5");
        var slider6 = document.getElementById("myRange-6");
        var output6 = document.getElementById("stat-6");
        var slider7 = document.getElementById("myRange-7");
        var output7 = document.getElementById("stat-7");
        var slider8 = document.getElementById("myRange-8");
        var output8 = document.getElementById("stat-8");
        var slider9 = document.getElementById("myRange-9");
        var output9 = document.getElementById("stat-9");
        var slider10 = document.getElementById("myRange-10");
        var output10 = document.getElementById("stat-10");

        output.innerHTML = slider.value;
        output2.innerHTML = slider2.value;
        output3.innerHTML = slider3.value;
        output4.innerHTML = slider4.value;
        output5.innerHTML = slider5.value;
        output6.innerHTML = slider6.value;
        output7.innerHTML = slider7.value;
        output8.innerHTML = slider8.value;
        output9.innerHTML = slider9.value;
        output10.innerHTML = slider10.value;

        slider.oninput = function() {
            output.innerHTML = this.value;
        }
        slider2.oninput = function() {
            output2.innerHTML = this.value;
        }
        slider3.oninput = function() {
            output3.innerHTML = this.value;
        }
        slider4.oninput = function() {
            output4.innerHTML = this.value;
        }
        slider5.oninput = function() {
            output5.innerHTML = this.value;
        }

        slider6.oninput = function() {
            output6.innerHTML = this.value;
        }
        slider7.oninput = function() {
            output7.innerHTML = this.value;
        }
        slider8.oninput = function() {
            output8.innerHTML = this.value;
        }
        slider9.oninput = function() {
            output9.innerHTML = this.value;
        }
        slider10.oninput = function() {
            output10.innerHTML = this.value;
        }

        var all = parseInt(slider.value) + parseInt(slider2.value) +parseInt(slider3.value) + parseInt(slider4.value)
            + parseInt(slider5.value) + parseInt(slider6.value) + parseInt(slider7.value) + parseInt(slider8.value)
            +parseInt(slider9.value) + parseInt(slider10.value);

        $('.btn-green').on("click", function () {
            if ($("#fat").val() > 40 || $("#pace").val() > 47 || $("#weight").val() > 120 || 0 || $("#height").val()){

                iziToast.warning({
                    title: 'Грешни данни',
                    message: "Подкожните мазнини трябва да са под 40%, скороста под 47 km/h, килограмите под 120кг, а височината под 210см",
                    overlay: true,
                    zindex: 999,
                    position: 'center',
                    timeout: 8000,
                });

            }else
            {
                $.ajax({

                    method: "POST",
                    data: {
                        "longPass": slider.value, "relax": slider2.value,
                        "workHard": slider3.value, "tacktick": slider4.value,
                        "willPower": slider5.value, "dribble": slider6.value,
                        "shot": slider7.value, "technique": slider8.value, "pass": slider9.value,
                        "perspective": slider10.value, "all": all * 10,
                        "fat": $("#fat").val(), "pace": $("#pace").val(),
                        "weight": $("#weight").val(), "height": $("#height").val(),

                    },
                    url: "{{ path('playerStats', {id: player.Id}) }}",
                })
                    .done(function (msg) {
                        window.location.href = "/coache/training/";
                        console.log(msg);
                        console.log(slider.value);

                    });
            }
        });



    </script>

{% endblock %}